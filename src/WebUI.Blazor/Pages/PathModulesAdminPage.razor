@page "/administration/paths/{key}/modules"

<AuthorizeView Roles="Administrator"
               Context="AuthContext">
    <Authorized>
        <Condition Evaluation="_pathsModules != null">
            <Match>
                <MudTable Items="@_pathsModules" Filter="Filter">
                    <ToolBarContent>
                        <MudText Typo="Typo.h6">@localizer["PathModules"]</MudText>
                        <MudToolBarSpacer />
                        <MudTextField @bind-Value="_searchString" Placeholder="@localizer["Search"]" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
                    </ToolBarContent>
                    <HeaderContent>
                        <MudTh>Id</MudTh>
                        <MudTh>@localizer["ModuleTitle"]</MudTh>
                        <MudTh>@localizer["UriKey"]</MudTh>
                        <MudTh>@localizer["Necessity"]</MudTh>
                        <MudTh>@localizer["Tags"]</MudTh>
                    </HeaderContent>
                    <RowTemplate>
                        <MudTd DataLabel="Id">@context.Id</MudTd>
                        <MudTd DataLabel="@localizer["ModuleTitle"]">@context.Title</MudTd>
                        <MudTd DataLabel="@localizer["UriKey"]">@context.Key</MudTd>
                        <MudTd DataLabel="@localizer["Necessity"]">@localizer[context.Necessity.ToString()]</MudTd>
                        <MudTd DataLabel="@localizer["Tags"]">
                            <Iterations Items="@context.Tags" Context="tagItem">
                                <MudChip Size="Size.Small">@tagItem</MudChip>
                            </Iterations>
                        </MudTd>
                    </RowTemplate>
                </MudTable>
            </Match>
            <NotMatch>
                <MudProgressLinear Indeterminate="true" Color="Color.Primary"></MudProgressLinear>
            </NotMatch>
        </Condition>
    </Authorized>
    <NotAuthorized>
        @localizer["NotAuthorized"]
    </NotAuthorized>
</AuthorizeView>